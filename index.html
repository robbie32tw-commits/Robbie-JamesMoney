<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ë®òÂ∏≥ÈòøÈÇ¶</title>
    <!-- Google Fonts: Nunito & Noto Sans TC -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Nunito:wght@600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Â∞éËà™Ë¶ñÂúñÂàáÊèõÂçÄÂ°ä -->
        <main class="views" id="views">
            <!-- ========== 1. È¶ñÈ†Å (Dashboard) ========== -->
            <section class="view active" id="view-dashboard">
                <header class="app-header">
                    <div class="header-greeting">
                        <img src="./assets/abang_character.png" alt="ÈòøÈÇ¶ÊúÉË®àÂ∏´" class="abang-avatar">
                        <div class="greeting-text">
                            <h1 id="greeting-title">Êó©ÂÆâÔºÅ</h1>
                            <p id="abang-quote">ÈòøÈÇ¶Âπ´‰Ω†ÁúãÁ∑äËç∑ÂåÖ üêæ</p>
                        </div>
                    </div>
                </header>

                <div class="dashboard-content">
                    <!-- ‰ªäÊó•ÈÄ≤Â∫¶Ê¢ù -->
                    <div class="budget-card">
                        <div class="budget-card-header">
                            <div class="budget-title-area">
                                <h3>‰ªäÊó•Ââ©È§òÈ†êÁÆó</h3>
                                <div class="budget-date-range" id="today-date-range"></div>
                            </div>
                            <span class="budget-amount highlight" id="today-remaining">NT$ 500</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="today-progress" style="width: 50%;"></div>
                        </div>
                        <div class="budget-meta">
                            <span>Â∑≤Ëä±Ë≤ª: <strong id="today-spent">0</strong></span>
                            <span>È†êÁÆó: <strong id="today-budget">500</strong></span>
                        </div>
                    </div>

                    <!-- Êú¨ÈÄ±ÈÄ≤Â∫¶Ê¢ù -->
                    <div class="budget-card">
                        <div class="budget-card-header">
                            <div class="budget-title-area">
                                <h3>Êú¨ÈÄ±Ââ©È§òÈ†êÁÆó</h3>
                                <div class="budget-date-range" id="weekly-date-range"></div>
                            </div>
                            <span class="budget-amount" id="weekly-remaining">NT$ 3,500</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill weekly-fill" id="weekly-progress" style="width: 100%;"></div>
                        </div>
                    </div>

                    <!-- Êú¨ÊúàÈÄ≤Â∫¶Ê¢ù -->
                    <div class="budget-card">
                        <div class="budget-card-header">
                            <div class="budget-title-area">
                                <h3>Êú¨ÊúàÂâ©È§òÈ†êÁÆó</h3>
                                <div class="budget-date-range" id="monthly-date-range"></div>
                            </div>
                            <span class="budget-amount" id="monthly-remaining">NT$ 15,000</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill monthly-fill" id="monthly-progress" style="width: 100%;"></div>
                        </div>
                    </div>

                    <!-- ÂúìÈ§ÖÂúñÂçÄÂ°ä -->
                    <div class="chart-card">
                        <h3>Ëä±Ë≤ªÂàÜÈ°ûÊ¶ÇÊ≥Å (Êú¨ÈÄ±)</h3>
                        <div class="pie-chart-container">
                            <div class="pie-chart" id="expense-pie"></div>
                            <div class="pie-center">
                                <span class="pie-label">Êú¨ÈÄ±Ââ©È§ò</span>
                                <span class="pie-value" id="pie-center-value">0</span>
                            </div>
                        </div>
                        <div class="legend" id="chart-legend">
                            <!-- Âúñ‰æãÂãïÊÖãÁîüÊàê -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========== 2. Ë®òÂ∏≥ (Add Expense) ========== -->
            <section class="view" id="view-add">
                <header class="app-header center">
                    <h2>Ë®ò‰∏ÄÁ≠Ü</h2>
                </header>

                <div class="add-form">
                    <!-- Èõô‰∫∫ÂàáÊèõ -->
                    <div class="payer-toggle">
                        <button class="payer-btn active" data-payer="A">A ‰ªòÊ¨æ</button>
                        <button class="payer-btn" data-payer="B">B ‰ªòÊ¨æ</button>
                    </div>

                    <!-- ÂàÜÈ°ûÈÅ∏Êìá -->
                    <div class="categories">
                        <!-- ÂãïÊÖãÁîüÊàêÂàÜÈ°ûÊåâÈàï -->
                    </div>

                    <!-- ÊòéÁ¥∞Ëº∏ÂÖ• -->
                    <div class="detail-input-container">
                        <input type="text" id="expense-detail" class="detail-input" placeholder="Ëº∏ÂÖ•ÊòéÁ¥∞ (ÈÅ∏Â°´)" />
                    </div>

                    <!-- ÈáëÈ°çËº∏ÂÖ•ËàáÊï∏Â≠óÈçµÁõ§ÂçÄ -->
                    <div class="input-area">
                        <div class="amount-display">
                            <input type="date" id="expense-date" class="date-input inline-date" />
                            <div class="amount-text">
                                <span class="currency">NT$</span>
                                <span class="amount-value" id="input-amount">0</span>
                            </div>
                        </div>

                        <div class="numpad">
                            <button class="num-btn" data-num="1">1</button>
                            <button class="num-btn" data-num="2">2</button>
                            <button class="num-btn" data-num="3">3</button>
                            <button class="num-btn btn-calc" data-op="+">+</button>

                            <button class="num-btn" data-num="4">4</button>
                            <button class="num-btn" data-num="5">5</button>
                            <button class="num-btn" data-num="6">6</button>
                            <button class="num-btn btn-calc" data-op="-">-</button>

                            <button class="num-btn" data-num="7">7</button>
                            <button class="num-btn" data-num="8">8</button>
                            <button class="num-btn" data-num="9">9</button>
                            <button class="num-btn btn-action" id="btn-clear">C</button>

                            <button class="num-btn" data-num="0" style="grid-column: span 2;">0</button>
                            <button class="num-btn btn-calc" id="btn-eq">=</button>
                            <button class="num-btn btn-action btn-submit" id="btn-save">‚úì</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========== 3. Á¥ÄÈåÑ (Records) ========== -->
            <section class="view" id="view-records">
                <header class="app-header center">
                    <h2>ÈÅéÂæÄÁ¥ÄÈåÑ</h2>
                </header>
                <div class="records-content">
                    <div class="records-list" id="records-list">
                        <!-- ÂãïÊÖãÁîüÊàêÁ¥ÄÈåÑÂàóË°® -->
                    </div>
                </div>
            </section>

            <!-- ========== 4. Áµ±Ë®à (Stats) ========== -->
            <section class="view" id="view-stats">
                <header class="app-header center">
                    <h2>ÊúàÂ∫¶Áµ±Ë®à</h2>
                </header>
                <div class="stats-content">
                    <div class="stats-card">
                        <select id="stats-month-selector" class="stats-select">
                            <!-- ÂãïÊÖãÁîüÊàêÊúà‰ªΩÈÅ∏È†Ö -->
                        </select>
                        <div class="stats-total">
                            <h3>Ë©≤ÊúàÁ∏ΩËä±Ë≤ª</h3>
                            <span class="stats-amount" id="stats-total-amount">NT$ 0</span>
                        </div>
                    </div>

                    <div class="chart-card">
                        <h3>ÂàÜÈ°ûÂúìÈ§ÖÂúñ</h3>
                        <div class="pie-chart-container">
                            <div class="pie-chart" id="stats-pie"></div>
                            <div class="pie-center">
                                <span class="pie-label">Á∏ΩË®à</span>
                                <span class="pie-value" id="stats-pie-center-value">0</span>
                            </div>
                        </div>
                        <div class="legend" id="stats-legend">
                            <!-- Âúñ‰æãÂãïÊÖãÁîüÊàê -->
                        </div>
                        <div id="stats-settlement-card" class="stats-settlement">
                            <!-- Èõô‰∫∫ÁµêÁÆóÂãïÊÖãÁîüÊàê -->
                        </div>
                        <div id="stats-daily-table" class="daily-table">
                            <!-- ÊØèÊó•ÁµêÁÆóÂãïÊÖãÁîüÊàê -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- ========== 5. Ë®≠ÂÆö (Settings) ========== -->
            <section class="view" id="view-settings">
                <header class="app-header center">
                    <h2>Ë®≠ÂÆö</h2>
                </header>
                <div class="settings-content">
                    <div class="setting-group">
                        <label for="setting-budget">ÊØèÊó•È†êÁÆó (NT$)</label>
                        <input type="number" id="setting-budget" value="500">
                    </div>
                    <div class="setting-group">
                        <label for="setting-payer-a">‰ªòÊ¨æ‰∫∫ A ‰ª£Á®±</label>
                        <input type="text" id="setting-payer-a" value="A">
                    </div>
                    <div class="setting-group">
                        <label for="setting-payer-b">‰ªòÊ¨æ‰∫∫ B ‰ª£Á®±</label>
                        <input type="text" id="setting-payer-b" value="B">
                    </div>
                    <div class="setting-group">
                        <label>Â§ñËßÄ‰∏ªÈ°å</label>
                        <div class="theme-toggle" style="display: flex; gap: 8px; margin-top: 8px;">
                            <button class="theme-btn active" data-theme-val="light"
                                style="flex:1; padding: 10px; border-radius: 8px; border: 1px solid var(--gray); background: var(--card-bg); color: var(--text-main); font-weight: bold; cursor: pointer;">Ê∑∫Ëâ≤Ê®°Âºè</button>
                            <button class="theme-btn" data-theme-val="dark"
                                style="flex:1; padding: 10px; border-radius: 8px; border: 1px solid var(--gray); background: var(--card-bg); color: var(--text-main); font-weight: bold; cursor: pointer;">Ê∑±Ëâ≤Ê®°Âºè</button>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label>Ë≥áÊñôÂÇô‰ªΩËàáÈÇÑÂéü</label>
                        <div style="display: flex; gap: 8px; margin-top: 8px;">
                            <button class="btn-primary" id="btn-export-data"
                                style="flex: 1; font-size: 14px; background: var(--secondary); padding: 10px;">ÂåØÂá∫
                                (Export)</button>
                            <label class="btn-primary" for="input-import-data"
                                style="flex: 1; font-size: 14px; text-align: center; background: var(--secondary); cursor: pointer; display: flex; justify-content: center; align-items: center; margin: 0; padding: 10px;">
                                ÂåØÂÖ• (Import)
                                <input type="file" id="input-import-data" accept=".json" style="display: none;">
                            </label>
                        </div>
                    </div>
                    <!-- ÂÑ≤Â≠òÊåâÈàï -->
                    <button class="btn-primary" id="btn-save-settings">ÂÑ≤Â≠òË®≠ÂÆö</button>
                    <!-- Ê∏ÖÈô§Ë≥áÊñôÊåâÈàï -->
                    <button class="btn-danger" id="btn-clear-data" style="margin-top:20px;">Ê∏ÖÈô§ÊâÄÊúâË≥áÊñô</button>
                </div>
            </section>
        </main>

        <!-- Â∫ïÈÉ®Â∞éËà™Âàó -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-target="dashboard">
                <div class="nav-icon-wrapper">
                    <span class="label">È¶ñÈ†Å</span>
                </div>
            </button>
            <button class="nav-item add-btn" data-target="add">
                <div class="nav-icon-wrapper">
                    <span class="label">Ë®òÂ∏≥</span>
                </div>
            </button>
            <button class="nav-item" data-target="records">
                <div class="nav-icon-wrapper">
                    <span class="label">Á¥ÄÈåÑ</span>
                </div>
            </button>
            <button class="nav-item" data-target="stats">
                <div class="nav-icon-wrapper">
                    <span class="label">Áµ±Ë®à</span>
                </div>
            </button>
            <button class="nav-item" data-target="settings">
                <div class="nav-icon-wrapper">
                    <span class="label">Ë®≠ÂÆö</span>
                </div>
            </button>
        </nav>
    </div>

    <script src="app.js"></script>
</body>

</html>